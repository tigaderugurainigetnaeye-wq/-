<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>うんこちんこまんここんどーむ — カオスサイト</title>
  <style>
    :root{
      --bg:#0f172a; --card:#0b1220; --accent1:#ff8a80; --accent2:#ffd180; --accent3:#8c9eff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;background:linear-gradient(160deg,var(--bg) 0%, #071025 100%);color:#e6eef8}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:48px}
    .card{width:980px;max-width:96%;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:28px;box-shadow:0 12px 40px rgba(2,6,23,.6);border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0;font-size:40px;letter-spacing:2px;display:flex;align-items:center;gap:12px}
    .logo{font-weight:900;font-size:48px}
    .subtitle{color:rgba(230,238,248,.7);margin-top:8px}
    .showcase{margin-top:24px;display:grid;grid-template-columns:1fr 320px;gap:20px}

    .display{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px dashed rgba(255,255,255,0.03)}
    .big{font-size:34px;font-weight:800;text-align:center;line-height:1.2}
    .small{color:rgba(230,238,248,.7);margin-top:10px}
    .controls{display:flex;flex-direction:column;gap:12px}
    button{cursor:pointer;border:0;padding:12px 16px;border-radius:10px;font-weight:700}
    .btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent3));color:#091226}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit}

    .history{margin-top:16px;display:flex;flex-wrap:wrap;gap:8px}
    .pill{background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:999px;font-weight:700}

    footer{margin-top:18px;color:rgba(230,238,248,.6);font-size:13px}

    /* playful confetti */
    .confetti{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;overflow:hidden}
    .spark{position:absolute;width:10px;height:10px;border-radius:2px;opacity:.95}

    /* subtle bounce */
    .big.animate{animation:bounce 900ms ease forwards}
    @keyframes bounce{0%{transform:translateY(-8px) scale(.98)}50%{transform:translateY(6px) scale(1.02)}100%{transform:translateY(0) scale(1)}}

    /* responsive */
    @media(max-width:720px){.showcase{grid-template-columns:1fr;}.logo{font-size:36px}.big{font-size:28px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <header>
        <h1><span class="logo">うんコレクター</span> <span>— 禁断の合体ワードメーカー</span></h1>
        <p class="subtitle">完全に頭がおかしい（誉め言葉）。ボタンを押すと合体ワードが生まれます。大人向けのネタです。笑ってやってください。</p>
      </header>

      <div class="showcase">
        <div class="display">
          <div id="phrase" class="big">うんこちんこまんここんどーむ</div>
          <div id="explain" class="small">「合体」ボタンで新しい禁断ワードを生成。気に入ったらコピーして共有しよう。</div>

          <div class="history" id="history"></div>

          <footer>※ネタです。閲覧注意（成人向け表現あり）。</footer>
        </div>

        <aside class="controls">
          <button class="btn-primary" id="mergeBtn">合体！生成</button>
          <button class="btn-ghost" id="longBtn">超ロングを作る</button>
          <button class="btn-ghost" id="copyBtn">コピー</button>
          <button class="btn-ghost" id="resetBtn">リセット</button>

          <div style="font-size:13px;color:rgba(230,238,248,.8);margin-top:6px">パーツを編集（クリックで追加）</div>
          <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px">
            <button class="pill" data-part="うん">うん</button>
            <button class="pill" data-part="うんこ">うんこ</button>
            <button class="pill" data-part="うんち">うんち</button>
            <button class="pill" data-part="ちん">ちん</button>
            <button class="pill" data-part="ちんこ">ちんこ</button>
            <button class="pill" data-part="まん">まん</button>
            <button class="pill" data-part="まんこ">まんこ</button>
            <button class="pill" data-part="こんどーむ">こんどーむ</button>
            <button class="pill" data-part="こんどーむ(改)">こんどーむ(改)</button>
            <button class="pill" data-part="ちんちん">ちんちん</button>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    // Parts arrays (start with some seeded silly combos)
    const seeds = [
      'うんこちんこまんここんどーむ',
      'うんちんまんこんどーむ',
      'うんちちんちんこんどーむ',
      'うんちんちんこんどーむ',
      'うんちん',
      'うんこちんこ'
    ];

    const parts = ['うん','うんこ','うんち','ちん','ちんこ','ちんちん','まん','まんこ','こんどーむ'];

    const phraseEl = document.getElementById('phrase');
    const historyEl = document.getElementById('history');
    const confettiEl = document.getElementById('confetti');

    let history = [];

    function randInt(n){return Math.floor(Math.random()*n)}

    function makeMerge(short=false){
      // pick 2-5 parts, sometimes repeat, build playful separators
      const count = short ? 2 : (3 + randInt(4));
      const p = [];
      for(let i=0;i<count;i++){
        // sometimes pick from seeds to keep recognizable shapes
        if(Math.random()<0.18) p.push(seeds[randInt(seeds.length)]);
        else p.push(parts[randInt(parts.length)]);
      }
      // join with slight chance of small connectors
      const connectors = ['','・','ち','ん','ー','ん'];
      return p.join(connectors[randInt(connectors.length)]);
    }

    function showPhrase(text){
      phraseEl.classList.remove('animate');
      void phraseEl.offsetWidth; // reflow
      phraseEl.textContent = text;
      phraseEl.classList.add('animate');
      addHistory(text);
    }

    function addHistory(text){
      history.unshift(text);
      if(history.length>10) history.pop();
      renderHistory();
      // small confetti effect
      fireConfetti(12);
      playBlip();
    }

    function renderHistory(){
      historyEl.innerHTML = '';
      history.forEach(h=>{
        const b = document.createElement('button');
        b.className='pill'; b.textContent=h;
        b.onclick = ()=>{ navigator.clipboard && navigator.clipboard.writeText(h); alert('コピーしました: '+h); }
        historyEl.appendChild(b);
      });
    }

    function fireConfetti(n){
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className='spark';
        const size = 6+Math.random()*14; s.style.width=size+'px'; s.style.height=size+'px';
        s.style.left = (Math.random()*100)+'%';
        s.style.top = (-10 - Math.random()*10)+'%';
        s.style.background = `hsl(${Math.random()*360}deg 80% 60%)`;
        confettiEl.appendChild(s);
        // animate
        const horiz = (Math.random()*200-100);
        s.animate([
          {transform:`translate(0,0) rotate(${Math.random()*360}deg)`, opacity:1},
          {transform:`translate(${horiz}px,800px) rotate(${Math.random()*720}deg)`, opacity:0}
        ],{duration:1200+Math.random()*1400,easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish = ()=> s.remove();
      }
    }

    function playBlip(){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type='sine'; o.frequency.value = 260 + Math.random()*220; g.gain.value=0.02;
        o.connect(g); g.connect(ctx.destination); o.start();
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.25);
        setTimeout(()=>{o.stop(); ctx.close();},300);
      }catch(e){ /* audio may be blocked */ }
    }

    // buttons
    document.getElementById('mergeBtn').addEventListener('click', ()=> showPhrase(makeMerge(false)));
    document.getElementById('longBtn').addEventListener('click', ()=> showPhrase(makeMerge(false).repeat(1 + Math.floor(Math.random()*2))));
    document.getElementById('copyBtn').addEventListener('click', ()=>{
      const t = phraseEl.textContent;
      if(navigator.clipboard) navigator.clipboard.writeText(t).then(()=>alert('コピーしました: '+t));
      else { alert('コピー機能にアクセスできません'); }
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      phraseEl.textContent = 'うんこちんこまんここんどーむ'; history=[]; renderHistory();
    });

    // pills to append parts
    document.querySelectorAll('.pill[data-part]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const p = btn.dataset.part; showPhrase(phraseEl.textContent + p);
      })
    });

    // initial render
    showPhrase(seeds[0]);

    // easter: press U to unleash ultimate longword
    window.addEventListener('keydown', e=>{
      if(e.key.toLowerCase()==='u'){
        showPhrase('う'.repeat(6)+'んこちんこまんここんどーむ'.replace(/./g,m=>m));
      }
    });

  </script>
</body>
</html>
