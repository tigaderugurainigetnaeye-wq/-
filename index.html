<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>うんこちんこまんここんどーむ — カオスサイト</title>
  <style>
    :root{
      --bg:#0f172a; --card:#0b1220; --accent1:#ff8a80; --accent2:#ffd180; --accent3:#8c9eff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;background:linear-gradient(160deg,var(--bg) 0%, #071025 100%);color:#e6eef8}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:16px}
    .card{width:100%;max-width:980px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:20px;box-shadow:0 12px 40px rgba(2,6,23,.6);border:1px solid rgba(255,255,255,0.03)}
    h1{margin:0;font-size:7vw;letter-spacing:1px;display:flex;flex-wrap:wrap;align-items:center;gap:6px}
    .logo{font-weight:900;font-size:9vw}
    .subtitle{color:rgba(230,238,248,.7);margin-top:6px;font-size:4vw}
    .showcase{margin-top:18px;display:flex;flex-direction:column;gap:16px}

    .display{background:rgba(255,255,255,0.02);padding:14px;border-radius:12px;min-height:150px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px dashed rgba(255,255,255,0.03)}
    .big{font-size:8vw;font-weight:800;text-align:center;line-height:1.3;word-break:break-word}
    .small{color:rgba(230,238,248,.7);margin-top:8px;font-size:3.5vw;text-align:center}
    .controls{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
    button{cursor:pointer;border:0;padding:10px 14px;border-radius:10px;font-weight:700;font-size:4vw}
    .btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent3));color:#091226}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit}

    .history{margin-top:12px;display:flex;flex-wrap:wrap;gap:6px;justify-content:center}
    .pill{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:999px;font-weight:700;font-size:3.5vw}

    footer{margin-top:12px;color:rgba(230,238,248,.6);font-size:3vw;text-align:center}

    .confetti{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;overflow:hidden}
    .spark{position:absolute;width:10px;height:10px;border-radius:2px;opacity:.95}

    .big.animate{animation:bounce 900ms ease forwards}
    @keyframes bounce{0%{transform:translateY(-8px) scale(.98)}50%{transform:translateY(6px) scale(1.02)}100%{transform:translateY(0) scale(1)}}

    @media(min-width:720px){
      .showcase{flex-direction:row;}
      .controls{flex-direction:column;align-items:flex-start}
      h1{font-size:40px}.logo{font-size:48px}.subtitle{font-size:16px}
      .big{font-size:34px}.small{font-size:14px}.pill{font-size:14px}.btn-primary,.btn-ghost{font-size:14px;padding:12px 16px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <header>
        <h1><span class="logo">うんコレクター</span> <span>— 禁断の合体ワードメーカー</span></h1>
        <p class="subtitle">完全に頭がおかしい（誉め言葉）。ボタンを押すと合体ワードが生まれます。大人向けのネタです。笑ってやってください。</p>
      </header>

      <div class="showcase">
        <div class="display">
          <div id="phrase" class="big">うんこちんこまんここんどーむ</div>
          <div id="explain" class="small">「合体」ボタンで新しい禁断ワードを生成。気に入ったらコピーして共有しよう。</div>
          <div class="history" id="history"></div>
          <footer>※ネタです。閲覧注意（成人向け表現あり）。</footer>
        </div>

        <aside class="controls">
          <button class="btn-primary" id="mergeBtn">合体！生成</button>
          <button class="btn-ghost" id="longBtn">超ロングを作る</button>
          <button class="btn-ghost" id="copyBtn">コピー</button>
          <button class="btn-ghost" id="resetBtn">リセット</button>
        </aside>

        <div style="font-size:3.5vw;color:rgba(230,238,248,.8);margin-top:6px;text-align:center">パーツを編集（タップで追加）</div>
        <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;justify-content:center">
          <button class="pill" data-part="うん">うん</button>
          <button class="pill" data-part="うんこ">うんこ</button>
          <button class="pill" data-part="うんち">うんち</button>
          <button class="pill" data-part="ちん">ちん</button>
          <button class="pill" data-part="ちんこ">ちんこ</button>
          <button class="pill" data-part="まん">まん</button>
          <button class="pill" data-part="まんこ">まんこ</button>
          <button class="pill" data-part="こんどーむ">こんどーむ</button>
          <button class="pill" data-part="ちんちん">ちんちん</button>
        </div>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    const seeds = [
      'うんこちんこまんここんどーむ',
      'うんちんまんこんどーむ',
      'うんちちんちんこんどーむ',
      'うんちんちんこんどーむ',
      'うんちん',
      'うんこちんこ'
    ];
    const parts = ['うん','うんこ','うんち','ちん','ちんこ','ちんちん','まん','まんこ','こんどーむ'];

    const phraseEl = document.getElementById('phrase');
    const historyEl = document.getElementById('history');
    const confettiEl = document.getElementById('confetti');
    let history = [];

    function randInt(n){return Math.floor(Math.random()*n)}

    function makeMerge(short=false){
      const count = short ? 2 : (3 + randInt(4));
      const p = [];
      for(let i=0;i<count;i++){
        if(Math.random()<0.18) p.push(seeds[randInt(seeds.length)]);
        else p.push(parts[randInt(parts.length)]);
      }
      const connectors = ['','・','ち','ん','ー'];
      return p.join(connectors[randInt(connectors.length)]);
    }

    function showPhrase(text){
      phraseEl.classList.remove('animate');
      void phraseEl.offsetWidth;
      phraseEl.textContent = text;
      phraseEl.classList.add('animate');
      addHistory(text);
    }

    function addHistory(text){
      history.unshift(text);
      if(history.length>6) history.pop();
      renderHistory();
      fireConfetti(8);
      playBlip();
    }

    function renderHistory(){
      historyEl.innerHTML = '';
      history.forEach(h=>{
        const b = document.createElement('button');
        b.className='pill'; b.textContent=h;
        b.onclick = ()=>{ navigator.clipboard && navigator.clipboard.writeText(h); alert('コピーしました: '+h); }
        historyEl.appendChild(b);
      });
    }

    function fireConfetti(n){
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className='spark';
        const size = 4+Math.random()*10; s.style.width=size+'px'; s.style.height=size+'px';
        s.style.left = (Math.random()*100)+'%';
        s.style.top = (-10 - Math.random()*10)+'%';
        s.style.background = `hsl(${Math.random()*360}deg 80% 60%)`;
        confettiEl.appendChild(s);
        const horiz = (Math.random()*160-80);
        s.animate([
          {transform:`translate(0,0) rotate(${Math.random()*360}deg)`, opacity:1},
          {transform:`translate(${horiz}px,600px) rotate(${Math.random()*720}deg)`, opacity:0}
        ],{duration:1000+Math.random()*1200,easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish = ()=> s.remove();
      }
    }

    function playBlip(){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type='sine'; o.frequency.value = 260 + Math.random()*220; g.gain.value=0.02;
        o.connect(g); g.connect(ctx.destination); o.start();
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.25);
        setTimeout(()=>{o.stop(); ctx.close();},300);
      }catch(e){}
    }

    document.getElementById('mergeBtn').addEventListener('click', ()=> showPhrase(makeMerge(false)));
    document.getElementById('longBtn').addEventListener('click', ()=> showPhrase(makeMerge(false).repeat(1 + Math.floor(Math.random()*2))));
    document.getElementById('copyBtn').addEventListener('click', ()=>{
      const t = phraseEl.textContent;
      if(navigator.clipboard) navigator.clipboard.writeText(t).then(()=>alert('コピーしました: '+t));
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      phraseEl.textContent = 'うんこちんこまんここんどーむ'; history=[]; renderHistory();
    });

    document.querySelectorAll('.pill[data-part]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const p = btn.dataset.part; showPhrase(phraseEl.textContent + p);
      })
    });

    showPhrase(seeds[0]);
  </script>
</body>
</html>
